# Custom Confirmation Dialog - Visual Flow Diagram

## Complete User Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    PATIENT APPOINTMENTS PAGE                     â”‚
â”‚                                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  Dr. John Smith - Cardiologist                          â”‚   â”‚
â”‚  â”‚  ğŸ“… 2026-01-15  |  â° 10:30 AM  |  Status: Pending       â”‚   â”‚
â”‚  â”‚  [Reschedule] [Cancel]                                  â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†“ (User clicks Cancel)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      CUSTOM DIALOG APPEARS                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  ğŸ”´ Cancel Appointment                                  â”‚   â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚  â”‚                                                           â”‚   â”‚
â”‚  â”‚  Are you sure you want to cancel this appointment?      â”‚   â”‚
â”‚  â”‚  This action cannot be undone.                          â”‚   â”‚
â”‚  â”‚                                                           â”‚   â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚  â”‚                           [Keep it]  [Cancel Appointment]â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                  â†™                              â†˜                â”‚
â”‚            User clicks              User clicks cancel           â”‚
â”‚            "Keep it"                button                       â”‚
â”‚                â”‚                         â”‚                      â”‚
â”‚                â†“                         â†“                      â”‚
â”‚         Dialog Closes         API Call Made                     â”‚
â”‚         Nothing Happens      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                   â”‚
â”‚                              â”‚Appointment  â”‚                   â”‚
â”‚                              â”‚Cancelled    â”‚                   â”‚
â”‚                              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                   â”‚
â”‚                                    â†“                            â”‚
â”‚                             âœ… Success Toast                    â”‚
â”‚                        "Appointment cancelled                   â”‚
â”‚                         successfully"                          â”‚
â”‚                        (Green notification                     â”‚
â”‚                         appears for 3 sec)                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Component Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    App.jsx (Root)                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ BrowserRouter                                          â”‚ â”‚
â”‚  â”‚  â”œâ”€ ToastContainer (displays all toasts)             â”‚ â”‚
â”‚  â”‚  â””â”€ Routes                                            â”‚ â”‚
â”‚  â”‚      â””â”€ PatientLayout                                â”‚ â”‚
â”‚  â”‚          â””â”€ MyAppointments (Booking.jsx)             â”‚ â”‚
â”‚  â”‚              â”œâ”€ State: appointments, confirmDialog   â”‚ â”‚
â”‚  â”‚              â”œâ”€ Renders: appointment cards           â”‚ â”‚
â”‚  â”‚              â””â”€ Renders: ConfirmDialog component     â”‚ â”‚
â”‚  â”‚                  â””â”€ Shows when confirmDialog.isOpen  â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## State Management Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  confirmDialog State            â”‚
â”‚  {                              â”‚
â”‚    isOpen: boolean,             â”‚
â”‚    appointmentId: string,       â”‚
â”‚    action: "cancel" | "resched" â”‚
â”‚  }                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â†“ setConfirmDialog()
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Open/Close Dialog              â”‚
â”‚  Set which appointment          â”‚
â”‚  Set what action user selected  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â†“ Pass as Props
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  <ConfirmDialog />              â”‚
â”‚  - isOpen                       â”‚
â”‚  - title (dynamic)              â”‚
â”‚  - message (dynamic)            â”‚
â”‚  - isDangerous (true/false)     â”‚
â”‚  - onConfirm()                  â”‚
â”‚  - onCancel()                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Action Handlers

```
User Action â†’ Dialog Opens â†’ Dialog Buttons
                                    â†™ â†˜
                            Keep it   Confirm
                              â”‚         â”‚
                              â†“         â†“
                    onCancel()    onConfirm()
                              â”‚         â”‚
                              â†“         â†“
                      Close Dialog   Execute Action
                      (No change)    - API Call
                                     - State Update
                                     - Toast Notification
                                     - Close Dialog
```

## Dialog Styling Decision Tree

```
                    ConfirmDialog Opens
                           â”‚
                Is action dangerous?
                      â†™        â†˜
                    Yes         No
                     â”‚           â”‚
    isDangerous=true â”‚           â”‚ isDangerous=false
                     â†“           â†“
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚  Red Theme  â”‚  â”‚Blue Themeâ”‚
            â”‚  bg-red-50  â”‚  â”‚bg-blue-50â”‚
            â”‚  bg-red-500 â”‚  â”‚bg-blue-500
            â”‚ text-red-500â”‚  â”‚text-blue-5
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚               â”‚
                  â”œâ”€ AlertCircle  â”‚
                  â”‚   Icon Color  â”‚
                  â”‚   Buttons     â”‚
                  â”‚   Styling     â”‚
                  â”‚   Messages    â”‚
                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Data Flow - Cancel Appointment

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Click Cancel     â”‚
â”‚ Button           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ setConfirmDialog({                   â”‚
â”‚   isOpen: true,                      â”‚
â”‚   appointmentId: "123abc",           â”‚
â”‚   action: "cancel"                   â”‚
â”‚ })                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ConfirmDialog Renders with:          â”‚
â”‚ - title: "Cancel Appointment"        â”‚
â”‚ - isDangerous: true (red)            â”‚
â”‚ - confirmText: "Cancel Appointment"  â”‚
â”‚ - message: "Are you sure..."         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ User Clicks Confirm                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ onConfirm() Handler:                 â”‚
â”‚ 1. Calls cancelAppointment()         â”‚
â”‚ 2. Makes API call: PUT /appointments â”‚
â”‚ 3. Updates state                     â”‚
â”‚ 4. Dispatches showToast()            â”‚
â”‚ 5. Closes dialog                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ âœ… Success Toast:                    â”‚
â”‚ "Appointment cancelled successfully" â”‚
â”‚ (Green, 3 seconds, auto-dismisses)   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Component Interactions

```
MyAppointments (Booking.jsx)
â”‚
â”œâ”€ Manages State:
â”‚  â”œâ”€ [appointments] - list of appointments
â”‚  â”œâ”€ [confirmDialog] - dialog state
â”‚  â””â”€ [loading] - page loading state
â”‚
â”œâ”€ Renders UI:
â”‚  â”œâ”€ Appointment cards with buttons
â”‚  â””â”€ ConfirmDialog component
â”‚
â””â”€ Handlers:
   â”œâ”€ cancelAppointment(id)
   â”‚  â”œâ”€ Makes API call
   â”‚  â”œâ”€ Updates state
   â”‚  â””â”€ Shows toast
   â”‚
   â”œâ”€ rescheduleAppointment(id)
   â”‚  â”œâ”€ Makes API call
   â”‚  â”œâ”€ Updates state
   â”‚  â””â”€ Shows toast
   â”‚
   â””â”€ Dialog Event Handlers
      â”œâ”€ onConfirm() - executes chosen action
      â””â”€ onCancel() - closes dialog
```

## Integration with Redux

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Redux Store              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ toast                â”‚ â”‚
â”‚  â”‚ â”œâ”€ notifications[]  â”‚ â”‚
â”‚  â”‚ â””â”€ actions:         â”‚ â”‚
â”‚  â”‚    â”œâ”€ showToast()   â”‚ â”‚
â”‚  â”‚    â”œâ”€ removeToast() â”‚ â”‚
â”‚  â”‚    â””â”€ clearAll()    â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ auth, doctor,        â”‚ â”‚
â”‚  â”‚ patient (other state)â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â†‘
         â”‚ dispatch(showToast())
         â”‚
    MyAppointments
    onConfirm handler
    calls dispatch()
```

## Z-Index Layering

```
Top Layer (Z-10000)
    â†‘
    â”‚ ConfirmDialog
    â”‚ (Modal + Overlay)
    â”‚
Middle Layer (Z-50, Z-100, etc)
    â†‘
    â”‚ Other UI Elements
    â”‚ (Headers, Cards, etc)
    â”‚
Bottom Layer (Z-0)
    â†‘
    â”‚ Page Background
    â”‚ (Appointments Page)
```

## Browser Event Flow

```
User interacts with page
        â†“
Clicks [Cancel] button
        â†“
onClick handler fires
        â†“
setConfirmDialog() updates state
        â†“
Component re-renders with dialog
        â†“
Modal overlay + Dialog appears
        â†“
User selects option
        â†“
onClick handler on dialog button
        â†“
Executes onConfirm() or onCancel()
        â†“
API call (if confirm) OR dialog closes
        â†“
State updates
        â†“
Toast notification appears
        â†“
Component re-renders
        â†“
User sees result
```

This design ensures a smooth, professional user experience with clear visual feedback at every step!
